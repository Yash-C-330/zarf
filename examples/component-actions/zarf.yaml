kind: ZarfPackageConfig
metadata:
  name: component-actions
  description: "Component actions examples"

components:
  - name: on-create
    actions:
      onCreate:
        before:
          # on Windows, touch is replaced with New-Item
          - cmd: touch test-prepare.txt

  - name: on-deploy
    actions:
      onDeploy:
        before:
          - cmd: touch test-deploy-before.txt
        after:
          - cmd: touch test-deploy-after.txt

  - name: on-deploy-with-timeout
    description: This component will fail after 1 second
    actions:
      onDeploy:
        defaults:
          maxSeconds: 1
        before:
          - cmd: sleep 30
