kind: ZarfPackageConfig
metadata:
  name: "init-package-zarf-injector"
  description: "Used to bootstrap the seed registry without an external registry"

components:
  - name: zarf-injector
    required: true
    only:
      cluster:
        architecture: amd64
    cosignKeyPath: ../../cosign.pub
    files:
      # Rust Injector Binary
      - source: sget://defenseunicorns/zarf-injector:amd64-v0.22.35-9g1fc3
        target: "###ZARF_TEMP###/zarf-injector"
        executable: true

  - name: zarf-injector
    required: true
    only:
      cluster:
        architecture: arm64
    cosignKeyPath: ../../cosign.pub
    files:
      # Rust Injector Binary
      - source: sget://defenseunicorns/zarf-injector:arm64-v0.22.35-9g1fc3
        target: "###ZARF_TEMP###/zarf-injector"
        executable: true
